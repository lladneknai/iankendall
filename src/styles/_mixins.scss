@use "sass:color";
@use "./vars" as *;

//
// MIXINS
//
@mixin lighten-prop($property, $color, $pct) {
  #{$property}: color.adjust($color, $lightness: $pct);
}
@mixin lighten($color, $pct) {
  color: color.adjust($color, $lightness: $pct);
}
@mixin alpha-prop($property, $color, $val) {
  #{$property}: color.adjust($color, $alpha: $val);
}
@mixin gap($px) {
  gap: $px;
}
@mixin flex($direction, $gap) {
  display: flex;
  flex-direction: $direction;
  gap: $gap;
}

@mixin no-select {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

// Shared trans between tips and paper
@mixin paper-transitions {
  transition: height 0.1s ease-out, right 0.1s ease-out, top 0.1s ease-out;
}

//
// BREAKPOINTS
// Global screen sizes for media queries.
//
// SIZES: tiny, mobile, tablet, desktop, xl, 2xl, 3xl
// EXCLUDERS: non-mobile, non-desktop, non-xl
//
@mixin bp($breakpoint) {
  @if $breakpoint == mobile {
    @media (max-width: $max-width-mobile) {
      @content;
    }
  } @else if $breakpoint == bp-tiny {
    @media (max-width: $max-width-tiny) {
      @content;
    }
  } @else if $breakpoint == non-mobile {
    @media (min-width: $min-width-tablet) {
      @content;
    }
  } @else if $breakpoint == tablet {
    @media (min-width: $min-width-tablet) and (max-width: $max-width-tablet) {
      @content;
    }
  } @else if $breakpoint == desktop {
    @media (min-width: $min-width-desktop) {
      @content;
    }
  } @else if $breakpoint == non-desktop {
    @media (max-width: $max-width-tablet) {
      @content;
    }
  } @else if $breakpoint == xl {
    @media (min-width: $min-width-xl) {
      @content;
    }
  } @else if $breakpoint == 2xl {
    @media (min-width: $min-width-2xl) {
      @content;
    }
  } @else if $breakpoint == 3xl {
    @media (min-width: $min-width-3xl) {
      @content;
    }
  } @else if $breakpoint == non-xl {
    @media (max-width: $max-width-desktop) {
      @content;
    }
  }
}

@mixin fadeInAnimations {
  animation: fadeIn 400ms ease;
  &.exiting {
    animation: fadeOut 300ms ease forwards;
  }
}

@mixin slideUpAnimationsHome($ms) {
  animation: slideUp $ms ease;
  opacity: 0;
  transform: translateY(30px);
  transition: opacity $ms ease, transform $ms ease;
  &.shown {
    transform: translateY(0);
    opacity: 1;
  }
}

@mixin slideUpAnimationsMenu {
  animation: slideUp 300ms ease;
  transition: opacity 300ms ease, transform 300ms ease;
  &.hidden {
    transform: translateY(30px);
    opacity: 0;
  }
  &.shown {
    transform: translateY(0);
    opacity: 1;
  }
}

//
// ROOT & ELEMENT STYLES
//
@mixin base-document-styles {
  body {
    background-color: $dark;
    font-size: 1rem;
  }
  body.menu-open {
    overflow: hidden;
    position: fixed;
    width: 100%;
    height: 100%;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    // display: inline-block;
    display: block;
    font-size: inherit;
    margin: 0.25em 0 0.25em;
  }
  h1,
  h3,
  h5 {
    font-family: $serif;
  }
  h2,
  h4,
  h6 {
    font-family: $sans-serif;
    letter-spacing: 0.05em;
  }
  h1 {
    font-size: 2.25rem;
  }
  h2,
  h3 {
    font-size: 1.75rem;
  }
  h4,
  h5 {
    font-size: 1.25rem;
  }
  h6 {
    font-size: 1rem;
    font-weight: 400;
  }
  p,
  li,
  input,
  button {
    font-size: 1rem;
    font-family: $serif;
  }
  p {
    line-height: 1.5rem;
    margin: 0.25rem 0 0.5rem;
  }
  ul {
    padding: 0 0 0 1.25rem;
    margin: 0.25rem 0 0.5rem;
  }

  input[type="checkbox"] {
    // -moz-appearance: initial; /* Required for Firefox */
    // -webkit-appearance: none;
    appearance: none;
    border: 2px solid $dark-4;
    border-radius: 4px;
    cursor: pointer;
    height: 1.75rem;
    width: 1.75rem;
  }

  input[type="checkbox"]:checked {
    background: $mint;
    position: relative;
  }

  input[type="checkbox"]:checked::before {
    color: $light;
    content: "âœ”";
    font-size: 1.25rem;
    left: 4px;
    position: absolute;
  }

  .divider {
    border: 1px solid;
    @include alpha-prop(border-color, $light, -0.75);
    height: 0;
    margin: 2rem auto;
  }
}
